= List File Versions
:request_path: remote.php/dav/meta/$fileid/v
:method: PROPFIND
:content_type: text/xml

This endpoint lists all versions of a file.

* Path: `{request-base-path}/`
* Method: `{method}`

TIP: To retrieve a list of available files, use xref:webdav_api/search.adoc#limiting-returned-file-properties[the Filter Files endpoint], and ensure that returned properties includes `fileid`.

== Request Parameters

[cols=",,",options="header",]
|===
|Attribute 
|Type 
|Description

|`fileid` 
|integer 
|The file's id.
|===

== Returns

If the file _is_ found, then a response similar to the following will be returned.

=== Example Response

==== File Is Found and Has More Than One Version

[source,xml]
----
include::{examplesdir}core/webdav_api/files_versions/successful-response-which-contains-files.xml[]
----

==== File Is Found and Has Only One Version

If the file _is_ found, but has only one version, then the following response will be returned, with an `HTTP 207 Multi-Status` status.

[source,xml]
----
<?xml version="1.0"?>
<d:multistatus xmlns:d="DAV:" xmlns:s="http://sabredav.org/ns" xmlns:oc="http://owncloud.org/ns">
  <d:response>
    <d:href>/remote.php/dav/meta/44/v/</d:href>
    <d:propstat>
      <d:prop>
        <d:resourcetype>
          <d:collection/>
        </d:resourcetype>
      </d:prop>
      <d:status>HTTP/1.1 200 OK</d:status>
    </d:propstat>
  </d:response>
</d:multistatus>
----

==== File Is Not Found

If the file _is not_ found, then the following response will be returned, with an `HTTP/1.1 404 Not Found` status.

[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<d:error xmlns:d="DAV:" xmlns:s="http://sabredav.org/ns">
  <s:exception>Sabre\DAV\Exception\NotFound</s:exception>
  <s:message/>
</d:error>
----

== Code Example

[tabs]
====
Curl::
+
--
[source,console,subs="attributes+"]
----
curl --silent -v -u {oc-examples-username}:{oc-examples-password} \                                                 
  -X PROPFIND \ 
  -H "Content-Type: text/xml" \
  '{oc-examples-server-url}/remote.php/dav/meta/44/v' | xmllint --format -
----
--
====
